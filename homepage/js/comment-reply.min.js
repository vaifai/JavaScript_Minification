window.addComment=function(e){function t(){n(),function(){if(f){new f(o).observe(s.body,{childList:!0,subTree:!0})}}()}function n(e){if(p&&(l=a(u.cancelReplyId),m=a(u.commentFormId),l)){l.addEventListener("touchstart",r),l.addEventListener("click",r);for(var t,n=function(e){var t=u.commentReplyClass;return e&&e.childNodes||(e=s),s.getElementsByClassName?e.getElementsByClassName(t):e.querySelectorAll("."+t)}(e),o=0,i=n.length;o<i;o++)(t=n[o]).addEventListener("touchstart",d),t.addEventListener("click",d)}}function r(e){var t=a(u.temporaryFormId);t&&c&&(a(u.parentIdFieldId).value="0",t.parentNode.replaceChild(c,t),this.style.display="none",e.preventDefault())}function d(t){var n=this,r=i(n,"belowelement"),d=i(n,"commentid"),o=i(n,"respondelement"),a=i(n,"postid");r&&d&&o&&a&&(!1===e.addComment.moveForm(r,d,o,a)&&t.preventDefault())}function o(e){for(var t=e.length;t--;)if(e[t].addedNodes.length)return void n()}function i(e,t){return v?e.dataset[t]:e.getAttribute("data-"+t)}function a(e){return s.getElementById(e)}var l,m,c,s=e.document,u={commentReplyClass:"comment-reply-link",cancelReplyId:"cancel-comment-reply-link",commentFormId:"commentform",temporaryFormId:"wp-temp-form-div",parentIdFieldId:"comment_parent",postIdFieldId:"comment_post_ID"},f=e.MutationObserver||e.WebKitMutationObserver||e.MozMutationObserver,p="querySelector"in s&&"addEventListener"in e,v=!!s.documentElement.dataset;return p&&"loading"!==s.readyState?t():p&&e.addEventListener("DOMContentLoaded",t,!1),{init:n,moveForm:function(t,n,r,d){var o=a(t);c=a(r);var i,f,p,v=a(u.parentIdFieldId),y=a(u.postIdFieldId);if(o&&c&&v){(function(e){var t=u.temporaryFormId,n=a(t);n||((n=s.createElement("div")).id=t,n.style.display="none",e.parentNode.insertBefore(n,e))})(c),d&&y&&(y.value=d),v.value=n,l.style.display="",o.parentNode.insertBefore(c,o.nextSibling),l.onclick=function(){return!1};try{for(var I=0;I<m.elements.length;I++)if(i=m.elements[I],f=!1,"getComputedStyle"in e?p=e.getComputedStyle(i):s.documentElement.currentStyle&&(p=i.currentStyle),(i.offsetWidth<=0&&i.offsetHeight<=0||"hidden"===p.visibility)&&(f=!0),"hidden"!==i.type&&!i.disabled&&!f){i.focus();break}}catch(e){}return!1}}}}(window);